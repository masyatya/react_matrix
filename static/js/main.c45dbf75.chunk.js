(this.webpackJsonpreact_matrix=this.webpackJsonpreact_matrix||[]).push([[0],{16:function(e,t,a){e.exports=a(30)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),u=a.n(c),o=a(2),l=a(4),i=a(10),m=a(1),b={randomObjects:[],highlightObjects:[],rowPercentages:[],xValue:0},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INPUT_VALUE":for(var a=t.inputData,n=a.mValue,r=a.nValue,c=[],u=1;u<=n;u++){for(var o=[],l=1;l<=r;l++)o.push({amount:Math.floor(900*Math.random()+100),id:u+100*l});c.push(o)}return Object(m.a)(Object(m.a)({},e),{},{randomObjects:c,xValue:t.inputData.xValue});case"ADD_ONE_OBJ":var s=Object(i.a)(e.randomObjects).map((function(e){return e.map((function(e){return e.id===t.objId?Object(m.a)(Object(m.a)({},e),{},{amount:++e.amount}):e}))}));return Object(m.a)(Object(m.a)({},e),{},{randomObjects:s});case"DELETE_ROW":var f=e.randomObjects.filter((function(e,a){return a!==t.index}));return 1===e.randomObjects.length&&(f=[]),Object(m.a)(Object(m.a)({},e),{},{randomObjects:f});case"ADD_ROW":for(var O=Object(i.a)(e.randomObjects),j=[],E=1;E<=t.nValue;E++)j.push({amount:Math.floor(900*Math.random()+100),id:Date.now()+100*E});return O.push(j),Object(m.a)(Object(m.a)({},e),{},{randomObjects:O});case"FIND_X_OBJS":if(e.highlightObjects.length&&t.id===e.highlightObjects[0].id)return Object(m.a)({},e);var d=[];e.randomObjects.forEach((function(e){e.map((function(e){return d.push(e)}))}));for(var _=[],h=0;h<d.length;h++)_.push({difference:Math.abs(d[h].amount-t.amount),id:d[h].id});return _.sort((function(e,t){return e.difference-t.difference})),Object(m.a)(Object(m.a)({},e),{},{highlightObjects:_.slice(0,++t.xValue)});case"RESET_X_OBJS":return Object(m.a)(Object(m.a)({},e),{},{highlightObjects:[]});case"SET_PERCENTAGES":if(e.rowPercentages.length&&e.rowPercentages[0].id===e.randomObjects[t.index][0].id)return Object(m.a)({},e);var p=Object(i.a)(e.randomObjects[t.index]).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{amount:(Math.round(e.amount/t.sum*100)/100).toFixed(2)})}));return Object(m.a)(Object(m.a)({},e),{},{rowPercentages:p});case"RESET_PERCENTAGES":return Object(m.a)(Object(m.a)({},e),{},{rowPercentages:[]});default:return e}},f=function(e){return function(e){return e.xValue}(e.randomObjects)},O=function(e){return function(e){return e.randomObjects}(e.randomObjects)},j=function(e){return function(e){return e.highlightObjects}(e.randomObjects)},E=function(e){return function(e){return e.rowPercentages}(e.randomObjects)},d=Object(l.b)({randomObjects:s}),_=Object(l.c)(d),h=(a(27),a(8)),p=a(3),g=a(9),N=a.n(g),v=(a(28),function(){var e=Object(o.b)(),t=Object(n.useState)({mValue:"",nValue:"",xValue:""}),a=Object(p.a)(t,2),c=a[0],u=a[1],l=Object(n.useState)({mError:"",nError:"",xError:""}),i=Object(p.a)(l,2),b=i[0],s=i[1],f=function(e){var t=e.target,a=t.id,n=t.value,r=c.mValue,o=c.nValue;switch(a){case"mValue":n<=0||n>20||isNaN(n)?s((function(e){return Object(m.a)(Object(m.a)({},e),{},{mError:!0})})):s((function(e){return Object(m.a)(Object(m.a)({},e),{},{mError:!1})}));break;case"nValue":n<=0||n>12||isNaN(n)?s((function(e){return Object(m.a)(Object(m.a)({},e),{},{nError:!0})})):s((function(e){return Object(m.a)(Object(m.a)({},e),{},{nError:!1})}));break;case"xValue":n>r*o-1||n<0||isNaN(n)?s((function(e){return Object(m.a)(Object(m.a)({},e),{},{xError:!0})})):s((function(e){return Object(m.a)(Object(m.a)({},e),{},{xError:!1})}));break;default:return}u((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(h.a)({},a,n))}))};return r.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault();var a=c.xValue,n=b.mError,r=b.nError,o=b.xError;n||r||o||(""===a&&u((function(e){return Object(m.a)(Object(m.a)({},e),{},{xValue:0})})),e(function(e){return{type:"SET_INPUT_VALUE",inputData:e}}(c)))}},r.a.createElement("label",{htmlFor:"mValue",className:"form__label"},"M:"),r.a.createElement("input",{value:c.mValue,className:N()({form__input:!0,"form__input--error":b.mError}),id:"mValue",type:"text",placeholder:"Enter M value(from 1 to 20)",onChange:f}),r.a.createElement("label",{htmlFor:"nValue",className:"form__label"},"N:"),r.a.createElement("input",{value:c.nValue,className:N()({form__input:!0,"form__input--error":b.nError}),id:"nValue",type:"text",placeholder:"Enter N value(from 1 to 12)",onChange:f}),r.a.createElement("label",{htmlFor:"xValue",className:"form__label"},"X:"),r.a.createElement("input",{value:c.xValue,className:N()({form__input:!0,"form__input--error":b.xError}),id:"xValue",type:"text",placeholder:"Enter X value",onChange:f}),r.a.createElement("button",{className:"form__button",type:"submit"},"Apply"),r.a.createElement("button",{className:"form__button",type:"button",onClick:function(){return e({type:"ADD_ROW",nValue:c.nValue})}},"Add row"))}),V=(a(29),function(){var e=Object(o.b)(),t=Object(o.c)(O),a=Object(o.c)(f),c=Object(o.c)(j),u=Object(o.c)(E),l=Object(n.useState)(null),i=Object(p.a)(l,2),m=i[0],b=i[1],s=Object(n.useState)(null),d=Object(p.a)(s,2),_=d[0],h=d[1],g=Object(n.useCallback)((function(t){e({type:"ADD_ONE_OBJ",objId:t})}),[e]),N=Object(n.useCallback)((function(t){e({type:"DELETE_ROW",index:t})}),[e]);return Object(n.useEffect)((function(){if(t.length){var n=[],o=new Array(t[0].length).fill(0).map((function(){return new Array(t.length).fill(0)})),l=0;b(t.map((function(t,n){var i;l=0,i=u[0]&&u[0].id===t[0].id?u.map((function(e){return r.a.createElement("td",{className:"table__item table__item--perc-".concat(Math.round(100*e.amount)),key:e.id},"".concat(Math.round(100*e.amount),"%"))})):t.map((function(t){var n=c.some((function(e){return e.id===t.id}));return r.a.createElement("td",{onClick:function(){return g(t.id)},onMouseEnter:function(){return e(function(e,t,a){return{type:"FIND_X_OBJS",amount:e,id:t,xValue:a}}(t.amount,t.id,a))},onMouseLeave:function(){return e({type:"RESET_X_OBJS"})},className:"table__item ".concat(n?"table__item--highlight":""),key:t.id},t.amount)})),t.forEach((function(e,t){l+=e.amount,o[t].unshift(e)})),i.unshift(r.a.createElement("td",{className:"table__item",key:Date.now(),onClick:function(){return N(n)}},"\xd7"));var m=l;return i.push(r.a.createElement("td",{className:"table__item table__item--sum",key:l,onMouseOut:function(){return e({type:"RESET_PERCENTAGES"})},onMouseOver:function(){return e(function(e,t){return{type:"SET_PERCENTAGES",sum:e,index:t}}(m,n))}},l)),r.a.createElement("tr",{className:"table__row",key:10*n*Date.now()},i)}))),(o=o.map((function(e){return e.slice(0,t.length)}))).forEach((function(e,t){l=0,e.forEach((function(e){l+=e.amount})),n.push(r.a.createElement("td",{className:"table__item table__item--foot",key:l*t*Date.now()},Math.round(l/e.length)))})),n.unshift(r.a.createElement("td",{className:"table__item",key:Date.now()})),n.push(r.a.createElement("td",{className:"table__item",key:Date.now()+1})),h(n)}}),[t,c,u,e,g,N,a]),r.a.createElement(r.a.Fragment,null,t.length&&r.a.createElement("table",{className:"table"},r.a.createElement("tbody",{className:"table__body"},m),r.a.createElement("tfoot",null,r.a.createElement("tr",null,_))))});var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(V,null))};u.a.render(r.a.createElement(o.a,{store:_},r.a.createElement(x,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c45dbf75.chunk.js.map